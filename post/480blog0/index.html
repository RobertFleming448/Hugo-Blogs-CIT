<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.80.0" />


<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn@1/images/favicons/dsrca/favicon.ico" />



<title>CIT 480 Blog 0 - Robert Fleming&#39;s CIT Blog</title>


<meta name="author" content="Robert Fleming" />


<meta name="description" content="A minimal Hugo theme with nice theme color." />


<meta name="keywords" content="CIT-480, Java" />


<meta property="og:title" content="CIT 480 Blog 0" />
<meta name="twitter:title" content="CIT 480 Blog 0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://robertfleming448.github.io/post/480blog0/" /><meta property="og:description" content="Introduction
Since this is my first blog post for CIT 480 and I have little to discuss in terms of class content, I think it would be fitting to describe the process I used to enroll in COMP 484 and this class. When I went to enroll in this course&rsquo;s corequisite, COMP 484, it was closed. I&rsquo;ve been through this before and the only solution I&rsquo;ve found is to refresh the page every couple of minutes to wait for availability. This would be no problem since this occurred in midst of Covid stay at home orders. However, I would be unavailable to refresh this during meals, bathing, etc. To solve this, I came up with a system to automize the refresh system.
I decided to write this program in Java, as it was the programming language I was most familiar with. First off, I devised a logical breakdown for the program. The required modules were:

A bot that refreshed the page and navigated to the add screen
A function that captured the page
A function that parsed the image to see if any changes were made to the add screen
A function that notifies me when a change occurs, so I can run to my computer

Next are a few &ldquo;optional&rdquo; components that I included to make the program easier to bug correct

A logging function that appends whenever a significant action occurs including time and picture
Bug correction function that rescues the bot should it get stuck during page navigation

The Bot
I first made a bot that would navigate the page by pressing the TAB key a predetermined amount of times and pressing ENTER when required. To accomplish this, I used the robot class located in the java.awt library. This method encountered far too many infinite &ldquo;death loops&rdquo; when the bot got stuck on an incorrect page so I scrapped it.
The second bot while less portable, used the same Robot class as before. To ensure the bot never fell into an infinite loop, I hardcoded the bot to navigate using the mouse cursor using the measurements of my screen. This was not an elegant solution but for my purposes it functioned. The bot was capable of scrolling through the pages pressing the required radio bubble and waiting at the add screen before restarting the process. The code for this bot is below:
	public static void refreshPageAlt() throws AWTException, InterruptedException
	{
		Robot robot = new Robot();

		TimeUnit.SECONDS.sleep(2);

		robot.keyPress(KeyEvent.VK_F5);
		robot.keyRelease(KeyEvent.VK_F5);

		TimeUnit.SECONDS.sleep(8);

		//first Page
		robot.mouseMove(700, 200);
		TimeUnit.SECONDS.sleep(1);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(1910, 300);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseMove(1910, 1000);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(700, 940);
		TimeUnit.SECONDS.sleep(1);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);

		TimeUnit.SECONDS.sleep(8);

		//Second Page
		robot.mouseMove(220, 450);		//alt screen size: (220, 450)	//main screen size(220, 470)
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(600, 480);		//alt screen size: (600, 480)	//main screen size(600, 500)
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);

		append(&#34;Page Refreshed&#34;);
	    System.out.println(&#34;Page Refreshed&#34;);

	    TimeUnit.SECONDS.sleep(8);
	}
The Capture/Analyzer
Next, I had to come up with a function that would take the contents of the screen and determine if a class became available. Luckily CSUN&rsquo;s system color codes classes with the following scheme:

Green=Available
Yellow=Waitlisted
Blue=Closed

Using these colors, I could easily determine changes in class availability based on color information. Utilizing the Color class and the Rectangle class I was able to take a screenshot of the page and get the RGB values of each pixel. By measuring the changes in green pixels on screen from previous measurements I could determine if availability changed. Part of the code is below:
	public static void capture()
	{
        try
        {
            Robot robot = new Robot();
            //Fullscreen but cropped around class hardcoded for my screen
            Rectangle screenSize = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());
            //System.out.println(screenSize.width);
            //System.out.println(screenSize.height);
            Rectangle captureRect = new Rectangle(420, 1130 / 2, 581 , 448);		//alt screen dimensions: (420, 1130 / 2, 581 , 448);	//main screen size (420, 1150 / 2, 581 , 448 );
            BufferedImage bufferedImage = robot.createScreenCapture(captureRect);
            File file = new File(&#34;screen-capture.png&#34;);	 
            boolean status = ImageIO.write(bufferedImage, &#34;png&#34;, file);
            append(&#34;Screen Captured ? &#34; &#43; status &#43; &#34; File Path:- &#34; &#43; file.getAbsolutePath());
            System.out.println(&#34;Screen Captured ? &#34; &#43; status &#43; &#34; File Path:- &#34; &#43; file.getAbsolutePath());
        }
	}

	public static int parseImg() throws IOException
	{
		int greenCount=0;
		//Reading the image
	      BufferedImage img = ImageIO.read(new File(&#34;screen-capture.png&#34;));
	      for (int y = 0; y &lt; img.getHeight(); y&#43;&#43;)
	      {
	         for (int x = 0; x &lt; img.getWidth(); x&#43;&#43;) {
	            //Retrieving contents of a pixel
	            int pixel = img.getRGB(x,y);
	            //Creating a Color object from pixel value
	            Color color = new Color(pixel, true);
	            //Retrieving the R G B values
	            int blue = color.getBlue();
	            if (blue&lt;50)
	            {
	            	greenCount&#43;&#43;;
	            }
	         }
	      }
	      return greenCount;

	}
Notification
Next, I needed to be able to know if a change had occurred. There were 2 methods I thought of that could accomplish this task:

Using a SMTP server to utilize my cell provider&rsquo;s email to SMS service address
Using a third-party service and paying per SMS message

I had initially started with the email method but after some configuration and thought I determined I didn&rsquo;t have the resources to run a SMTP server on my computer. In the end I used a payed service called Twilio Twilio provides the libraries required to use their SMS services in dozens of computer languages, Java included. In the end from testing and utilization  the service cost me a little over a dollar, with each text costing a fraction of a cent.
Error Correction
Every so often, the program would get stuck in a loop that I had not accounted for. This was not surprising as many parts of the bot were hardcoded for my environment. To fix this I added the link to the add page to the program. After encountering too many error values, the bot would rescue itself by returning to the starting page. While this solution was not the most elegant, again it worked for my purposes.
Logging
This was by far the easiest function to implement. The method would just append the programs current status and time to a text document. Additionally, it would save a screenshot titled the current time. If an error were to occur, I could read the log and look at the corresponding image to try and determine the cause.
Conclusion
In the end the program was a rousing success. I had turned the program on while I was eating lunch and low and behold a notification. I ran to my computer and found the class space open. Without this notification there is no doubt this availability would have been snatched up before I noticed. For this reason, I think the time and money I invested in this program was well worth it." />
<meta name="twitter:description" content="Introduction
Since this is my first blog post for CIT 480 and I have little to discuss in terms of class content, I think it would be fitting to describe the process I used to enroll in COMP 484 and this class. When I went to enroll in this course&rsquo;s corequisite, COMP 484, it was closed. I&rsquo;ve been through this before and the only solution I&rsquo;ve found is to refresh the page every couple of minutes to wait for availability. This would be no problem since this occurred in midst of Covid stay at home orders. However, I would be unavailable to refresh this during meals, bathing, etc. To solve this, I came up with a system to automize the refresh system.
I decided to write this program in Java, as it was the programming language I was most familiar with. First off, I devised a logical breakdown for the program. The required modules were:

A bot that refreshed the page and navigated to the add screen
A function that captured the page
A function that parsed the image to see if any changes were made to the add screen
A function that notifies me when a change occurs, so I can run to my computer

Next are a few &ldquo;optional&rdquo; components that I included to make the program easier to bug correct

A logging function that appends whenever a significant action occurs including time and picture
Bug correction function that rescues the bot should it get stuck during page navigation

The Bot
I first made a bot that would navigate the page by pressing the TAB key a predetermined amount of times and pressing ENTER when required. To accomplish this, I used the robot class located in the java.awt library. This method encountered far too many infinite &ldquo;death loops&rdquo; when the bot got stuck on an incorrect page so I scrapped it.
The second bot while less portable, used the same Robot class as before. To ensure the bot never fell into an infinite loop, I hardcoded the bot to navigate using the mouse cursor using the measurements of my screen. This was not an elegant solution but for my purposes it functioned. The bot was capable of scrolling through the pages pressing the required radio bubble and waiting at the add screen before restarting the process. The code for this bot is below:
	public static void refreshPageAlt() throws AWTException, InterruptedException
	{
		Robot robot = new Robot();

		TimeUnit.SECONDS.sleep(2);

		robot.keyPress(KeyEvent.VK_F5);
		robot.keyRelease(KeyEvent.VK_F5);

		TimeUnit.SECONDS.sleep(8);

		//first Page
		robot.mouseMove(700, 200);
		TimeUnit.SECONDS.sleep(1);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(1910, 300);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseMove(1910, 1000);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(700, 940);
		TimeUnit.SECONDS.sleep(1);
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);

		TimeUnit.SECONDS.sleep(8);

		//Second Page
		robot.mouseMove(220, 450);		//alt screen size: (220, 450)	//main screen size(220, 470)
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);
		TimeUnit.SECONDS.sleep(1);
		robot.mouseMove(600, 480);		//alt screen size: (600, 480)	//main screen size(600, 500)
		robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);
		robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);

		append(&#34;Page Refreshed&#34;);
	    System.out.println(&#34;Page Refreshed&#34;);

	    TimeUnit.SECONDS.sleep(8);
	}
The Capture/Analyzer
Next, I had to come up with a function that would take the contents of the screen and determine if a class became available. Luckily CSUN&rsquo;s system color codes classes with the following scheme:

Green=Available
Yellow=Waitlisted
Blue=Closed

Using these colors, I could easily determine changes in class availability based on color information. Utilizing the Color class and the Rectangle class I was able to take a screenshot of the page and get the RGB values of each pixel. By measuring the changes in green pixels on screen from previous measurements I could determine if availability changed. Part of the code is below:
	public static void capture()
	{
        try
        {
            Robot robot = new Robot();
            //Fullscreen but cropped around class hardcoded for my screen
            Rectangle screenSize = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());
            //System.out.println(screenSize.width);
            //System.out.println(screenSize.height);
            Rectangle captureRect = new Rectangle(420, 1130 / 2, 581 , 448);		//alt screen dimensions: (420, 1130 / 2, 581 , 448);	//main screen size (420, 1150 / 2, 581 , 448 );
            BufferedImage bufferedImage = robot.createScreenCapture(captureRect);
            File file = new File(&#34;screen-capture.png&#34;);	 
            boolean status = ImageIO.write(bufferedImage, &#34;png&#34;, file);
            append(&#34;Screen Captured ? &#34; &#43; status &#43; &#34; File Path:- &#34; &#43; file.getAbsolutePath());
            System.out.println(&#34;Screen Captured ? &#34; &#43; status &#43; &#34; File Path:- &#34; &#43; file.getAbsolutePath());
        }
	}

	public static int parseImg() throws IOException
	{
		int greenCount=0;
		//Reading the image
	      BufferedImage img = ImageIO.read(new File(&#34;screen-capture.png&#34;));
	      for (int y = 0; y &lt; img.getHeight(); y&#43;&#43;)
	      {
	         for (int x = 0; x &lt; img.getWidth(); x&#43;&#43;) {
	            //Retrieving contents of a pixel
	            int pixel = img.getRGB(x,y);
	            //Creating a Color object from pixel value
	            Color color = new Color(pixel, true);
	            //Retrieving the R G B values
	            int blue = color.getBlue();
	            if (blue&lt;50)
	            {
	            	greenCount&#43;&#43;;
	            }
	         }
	      }
	      return greenCount;

	}
Notification
Next, I needed to be able to know if a change had occurred. There were 2 methods I thought of that could accomplish this task:

Using a SMTP server to utilize my cell provider&rsquo;s email to SMS service address
Using a third-party service and paying per SMS message

I had initially started with the email method but after some configuration and thought I determined I didn&rsquo;t have the resources to run a SMTP server on my computer. In the end I used a payed service called Twilio Twilio provides the libraries required to use their SMS services in dozens of computer languages, Java included. In the end from testing and utilization  the service cost me a little over a dollar, with each text costing a fraction of a cent.
Error Correction
Every so often, the program would get stuck in a loop that I had not accounted for. This was not surprising as many parts of the bot were hardcoded for my environment. To fix this I added the link to the add page to the program. After encountering too many error values, the bot would rescue itself by returning to the starting page. While this solution was not the most elegant, again it worked for my purposes.
Logging
This was by far the easiest function to implement. The method would just append the programs current status and time to a text document. Additionally, it would save a screenshot titled the current time. If an error were to occur, I could read the log and look at the corresponding image to try and determine the cause.
Conclusion
In the end the program was a rousing success. I had turned the program on while I was eating lunch and low and behold a notification. I ran to my computer and found the class space open. Without this notification there is no doubt this availability would have been snatched up before I noticed. For this reason, I think the time and money I invested in this program was well worth it." /><meta property="og:image" content="https://robertfleming448.github.io/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://robertfleming448.github.io/img/og.png" /><meta property="article:published_time" content="2021-02-17T23:26:37-08:00" /><meta property="article:modified_time" content="2021-02-17T23:26:37-08:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>



<link rel="stylesheet" href="https://robertfleming448.github.io/assets/css/fuji.min.css" />





</head>

<body data-theme="auto">
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>
    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://robertfleming448.github.io">Robert Fleming&#39;s CIT Blog</a>
            
            <span class="title-sub">A Hugo blog for all my CIT antics</span>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://robertfleming448.github.io/post/480blog0/">CIT 480 Blog 0</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-02-17</span><span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;1094 words</span><span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/cit-480">CIT-480</a>&nbsp;<a href="/tags/java">Java</a>&nbsp;</span>

    </div>
    
    <div class="post-content markdown-body">
        <h2 id="introduction">Introduction</h2>
<p>Since this is my first blog post for CIT 480 and I have little to discuss in terms of class content, I think it would be fitting to describe the process I used to enroll in COMP 484 and this class. When I went to enroll in this course&rsquo;s corequisite, COMP 484, it was closed. I&rsquo;ve been through this before and the only solution I&rsquo;ve found is to refresh the page every couple of minutes to wait for availability. This would be no problem since this occurred in midst of Covid stay at home orders. However, I would be unavailable to refresh this during meals, bathing, etc. To solve this, I came up with a system to automize the refresh system.</p>
<p>I decided to write this program in Java, as it was the programming language I was most familiar with. First off, I devised a logical breakdown for the program. The required modules were:</p>
<ol>
<li>A bot that refreshed the page and navigated to the add screen</li>
<li>A function that captured the page</li>
<li>A function that parsed the image to see if any changes were made to the add screen</li>
<li>A function that notifies me when a change occurs, so I can run to my computer</li>
</ol>
<p>Next are a few &ldquo;optional&rdquo; components that I included to make the program easier to bug correct</p>
<ol>
<li>A logging function that appends whenever a significant action occurs including time and picture</li>
<li>Bug correction function that rescues the bot should it get stuck during page navigation</li>
</ol>
<h2 id="the-bot">The Bot</h2>
<p>I first made a bot that would navigate the page by pressing the <code>TAB</code> key a predetermined amount of times and pressing <code>ENTER</code> when required. To accomplish this, I used the <code>robot class</code> located in the <code>java.awt</code> library. This method encountered far too many infinite &ldquo;death loops&rdquo; when the bot got stuck on an incorrect page so I scrapped it.</p>
<p>The second bot while less portable, used the same <code>Robot class</code> as before. To ensure the bot never fell into an infinite loop, I hardcoded the bot to navigate using the mouse cursor using the measurements of my screen. This was not an elegant solution but for my purposes it functioned. The bot was capable of scrolling through the pages pressing the required radio bubble and waiting at the add screen before restarting the process. The code for this bot is below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">refreshPageAlt</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> AWTException<span style="color:#f92672">,</span> InterruptedException
	<span style="color:#f92672">{</span>
		Robot robot <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Robot<span style="color:#f92672">();</span>

		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>

		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">keyPress</span><span style="color:#f92672">(</span>KeyEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">VK_F5</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">keyRelease</span><span style="color:#f92672">(</span>KeyEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">VK_F5</span><span style="color:#f92672">);</span>

		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>8<span style="color:#f92672">);</span>

		<span style="color:#75715e">//first Page
</span><span style="color:#75715e"></span>		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>700<span style="color:#f92672">,</span> 200<span style="color:#f92672">);</span>
		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mousePress</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseRelease</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>1910<span style="color:#f92672">,</span> 300<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mousePress</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>1910<span style="color:#f92672">,</span> 1000<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseRelease</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>700<span style="color:#f92672">,</span> 940<span style="color:#f92672">);</span>
		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mousePress</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseRelease</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>

		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>8<span style="color:#f92672">);</span>

		<span style="color:#75715e">//Second Page
</span><span style="color:#75715e"></span>		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>220<span style="color:#f92672">,</span> 450<span style="color:#f92672">);</span>		<span style="color:#75715e">//alt screen size: (220, 450)	//main screen size(220, 470)
</span><span style="color:#75715e"></span>		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mousePress</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseRelease</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseMove</span><span style="color:#f92672">(</span>600<span style="color:#f92672">,</span> 480<span style="color:#f92672">);</span>		<span style="color:#75715e">//alt screen size: (600, 480)	//main screen size(600, 500)
</span><span style="color:#75715e"></span>		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mousePress</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>
		robot<span style="color:#f92672">.</span><span style="color:#a6e22e">mouseRelease</span><span style="color:#f92672">(</span>InputEvent<span style="color:#f92672">.</span><span style="color:#a6e22e">BUTTON1_DOWN_MASK</span><span style="color:#f92672">);</span>

		append<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Page Refreshed&#34;</span><span style="color:#f92672">);</span>
	    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Page Refreshed&#34;</span><span style="color:#f92672">);</span>

	    TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">SECONDS</span><span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>8<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span></code></pre></div>
<h2 id="the-captureanalyzer">The Capture/Analyzer</h2>
<p>Next, I had to come up with a function that would take the contents of the screen and determine if a class became available. Luckily CSUN&rsquo;s system color codes classes with the following scheme:</p>
<ul>
<li>Green=Available</li>
<li>Yellow=Waitlisted</li>
<li>Blue=Closed</li>
</ul>
<p>Using these colors, I could easily determine changes in class availability based on color information. Utilizing the <code>Color class</code> and the <code>Rectangle class</code> I was able to take a screenshot of the page and get the RGB values of each pixel. By measuring the changes in green pixels on screen from previous measurements I could determine if availability changed. Part of the code is below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">capture</span><span style="color:#f92672">()</span>
	<span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span>
        <span style="color:#f92672">{</span>
            Robot robot <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Robot<span style="color:#f92672">();</span>
            <span style="color:#75715e">//Fullscreen but cropped around class hardcoded for my screen
</span><span style="color:#75715e"></span>            Rectangle screenSize <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Rectangle<span style="color:#f92672">(</span>Toolkit<span style="color:#f92672">.</span><span style="color:#a6e22e">getDefaultToolkit</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getScreenSize</span><span style="color:#f92672">());</span>
            <span style="color:#75715e">//System.out.println(screenSize.width);
</span><span style="color:#75715e"></span>            <span style="color:#75715e">//System.out.println(screenSize.height);
</span><span style="color:#75715e"></span>            Rectangle captureRect <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Rectangle<span style="color:#f92672">(</span>420<span style="color:#f92672">,</span> 1130 <span style="color:#f92672">/</span> 2<span style="color:#f92672">,</span> 581 <span style="color:#f92672">,</span> 448<span style="color:#f92672">);</span>		<span style="color:#75715e">//alt screen dimensions: (420, 1130 / 2, 581 , 448);	//main screen size (420, 1150 / 2, 581 , 448 );
</span><span style="color:#75715e"></span>            BufferedImage bufferedImage <span style="color:#f92672">=</span> robot<span style="color:#f92672">.</span><span style="color:#a6e22e">createScreenCapture</span><span style="color:#f92672">(</span>captureRect<span style="color:#f92672">);</span>
            File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;screen-capture.png&#34;</span><span style="color:#f92672">);</span>	 
            <span style="color:#66d9ef">boolean</span> status <span style="color:#f92672">=</span> ImageIO<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>bufferedImage<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;png&#34;</span><span style="color:#f92672">,</span> file<span style="color:#f92672">);</span>
            append<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Screen Captured ? &#34;</span> <span style="color:#f92672">+</span> status <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; File Path:- &#34;</span> <span style="color:#f92672">+</span> file<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Screen Captured ? &#34;</span> <span style="color:#f92672">+</span> status <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; File Path:- &#34;</span> <span style="color:#f92672">+</span> file<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">parseImg</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> IOException
	<span style="color:#f92672">{</span>
		<span style="color:#66d9ef">int</span> greenCount<span style="color:#f92672">=</span>0<span style="color:#f92672">;</span>
		<span style="color:#75715e">//Reading the image
</span><span style="color:#75715e"></span>	      BufferedImage img <span style="color:#f92672">=</span> ImageIO<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;screen-capture.png&#34;</span><span style="color:#f92672">));</span>
	      <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> y <span style="color:#f92672">&lt;</span> img<span style="color:#f92672">.</span><span style="color:#a6e22e">getHeight</span><span style="color:#f92672">();</span> y<span style="color:#f92672">++)</span>
	      <span style="color:#f92672">{</span>
	         <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> x <span style="color:#f92672">&lt;</span> img<span style="color:#f92672">.</span><span style="color:#a6e22e">getWidth</span><span style="color:#f92672">();</span> x<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
	            <span style="color:#75715e">//Retrieving contents of a pixel
</span><span style="color:#75715e"></span>	            <span style="color:#66d9ef">int</span> pixel <span style="color:#f92672">=</span> img<span style="color:#f92672">.</span><span style="color:#a6e22e">getRGB</span><span style="color:#f92672">(</span>x<span style="color:#f92672">,</span>y<span style="color:#f92672">);</span>
	            <span style="color:#75715e">//Creating a Color object from pixel value
</span><span style="color:#75715e"></span>	            Color color <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Color<span style="color:#f92672">(</span>pixel<span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
	            <span style="color:#75715e">//Retrieving the R G B values
</span><span style="color:#75715e"></span>	            <span style="color:#66d9ef">int</span> blue <span style="color:#f92672">=</span> color<span style="color:#f92672">.</span><span style="color:#a6e22e">getBlue</span><span style="color:#f92672">();</span>
	            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>blue<span style="color:#f92672">&lt;</span>50<span style="color:#f92672">)</span>
	            <span style="color:#f92672">{</span>
	            	greenCount<span style="color:#f92672">++;</span>
	            <span style="color:#f92672">}</span>
	         <span style="color:#f92672">}</span>
	      <span style="color:#f92672">}</span>
	      <span style="color:#66d9ef">return</span> greenCount<span style="color:#f92672">;</span>

	<span style="color:#f92672">}</span></code></pre></div>
<h2 id="notification">Notification</h2>
<p>Next, I needed to be able to know if a change had occurred. There were 2 methods I thought of that could accomplish this task:</p>
<ul>
<li>Using a SMTP server to utilize my cell provider&rsquo;s email to SMS service address</li>
<li>Using a third-party service and paying per SMS message</li>
</ul>
<p>I had initially started with the email method but after some configuration and thought I determined I didn&rsquo;t have the resources to run a SMTP server on my computer. In the end I used a payed service called <code>Twilio</code> Twilio provides the libraries required to use their SMS services in dozens of computer languages, Java included. In the end from testing and utilization  the service cost me a little over a dollar, with each text costing a fraction of a cent.</p>
<h2 id="error-correction">Error Correction</h2>
<p>Every so often, the program would get stuck in a loop that I had not accounted for. This was not surprising as many parts of the bot were hardcoded for my environment. To fix this I added the link to the add page to the program. After encountering too many error values, the bot would rescue itself by returning to the starting page. While this solution was not the most elegant, again it worked for my purposes.</p>
<h2 id="logging">Logging</h2>
<p>This was by far the easiest function to implement. The method would just append the programs current status and time to a text document. Additionally, it would save a screenshot titled the current time. If an error were to occur, I could read the log and look at the corresponding image to try and determine the cause.</p>
<h2 id="conclusion">Conclusion</h2>
<p>In the end the program was a rousing success. I had turned the program on while I was eating lunch and low and behold a notification. I ran to my computer and found the class space open. Without this notification there is no doubt this availability would have been snatched up before I noticed. For this reason, I think the time and money I invested in this program was well worth it.</p>
    </div>
</article>


<div class="license markdown-body">
    <blockquote>
        <p>Unless otherwise noted, the content of this site is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
               target="_blank">CC BY-NC-SA 4.0</a>.</p>
    </blockquote>
</div>



            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/RobertFleming448" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/robert-fleming-16b4051b9/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/3d-models/">3d-Models</a>
            </span>
            
            <span>
                <a href="/tags/affinity/">Affinity</a>
            </span>
            
            <span>
                <a href="/tags/ansible/">Ansible</a>
            </span>
            
            <span>
                <a href="/tags/aws/">AWS</a>
            </span>
            
            <span>
                <a href="/tags/cit-480/">CIT-480</a>
            </span>
            
            <span>
                <a href="/tags/docker/">Docker</a>
            </span>
            
            <span>
                <a href="/tags/git/">git</a>
            </span>
            
            <span>
                <a href="/tags/github/">GitHub</a>
            </span>
            
            <span>
                <a href="/tags/graphics-engines/">Graphics-Engines</a>
            </span>
            
            <span>
                <a href="/tags/html/">HTML</a>
            </span>
            
            <span>
                <a href="/tags/hugo/">Hugo</a>
            </span>
            
            <span>
                <a href="/tags/java/">Java</a>
            </span>
            
            <span>
                <a href="/tags/javascript/">JavaScript</a>
            </span>
            
            <span>
                <a href="/tags/jekyll/">Jekyll</a>
            </span>
            
            <span>
                <a href="/tags/networking/">Networking</a>
            </span>
            
            <span>
                <a href="/tags/php/">PHP</a>
            </span>
            
            <span>
                <a href="/tags/troubleshooting/">Troubleshooting</a>
            </span>
            
        </div>
    </div>
    <div class="sidebar-item sidebar-toc">
        <h3>TOC</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#the-bot">The Bot</a></li>
    <li><a href="#the-captureanalyzer">The Capture/Analyzer</a></li>
    <li><a href="#notification">Notification</a></li>
    <li><a href="#error-correction">Error Correction</a></li>
    <li><a href="#logging">Logging</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></div>
</aside>
        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/index.xml">RSS</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/RobertFleming448" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/robert-fleming-16b4051b9/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/3d-models/">3d-Models</a>
            </span>
            
            <span>
                <a href="/tags/affinity/">Affinity</a>
            </span>
            
            <span>
                <a href="/tags/ansible/">Ansible</a>
            </span>
            
            <span>
                <a href="/tags/aws/">AWS</a>
            </span>
            
            <span>
                <a href="/tags/cit-480/">CIT-480</a>
            </span>
            
            <span>
                <a href="/tags/docker/">Docker</a>
            </span>
            
            <span>
                <a href="/tags/git/">git</a>
            </span>
            
            <span>
                <a href="/tags/github/">GitHub</a>
            </span>
            
            <span>
                <a href="/tags/graphics-engines/">Graphics-Engines</a>
            </span>
            
            <span>
                <a href="/tags/html/">HTML</a>
            </span>
            
            <span>
                <a href="/tags/hugo/">Hugo</a>
            </span>
            
            <span>
                <a href="/tags/java/">Java</a>
            </span>
            
            <span>
                <a href="/tags/javascript/">JavaScript</a>
            </span>
            
            <span>
                <a href="/tags/jekyll/">Jekyll</a>
            </span>
            
            <span>
                <a href="/tags/networking/">Networking</a>
            </span>
            
            <span>
                <a href="/tags/php/">PHP</a>
            </span>
            
            <span>
                <a href="/tags/troubleshooting/">Troubleshooting</a>
            </span>
            
        </div>
    </div>
    
    
    
    <div class="sidebar-item sidebar-toc">
        <h3>TOC</h3>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#the-bot">The Bot</a></li>
    <li><a href="#the-captureanalyzer">The Capture/Analyzer</a></li>
    <li><a href="#notification">Notification</a></li>
    <li><a href="#error-correction">Error Correction</a></li>
    <li><a href="#logging">Logging</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2020-2021
                <a href="https://robertfleming448.github.io">Robert Fleming</a>
                 | <a href="https://github.com/RobertFleming448/CIT_Blogs">Source code</a> 
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.0/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>


</body>

</html>